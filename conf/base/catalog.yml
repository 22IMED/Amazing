# Here you can define all your datasets by using simple YAML syntax.
#
# Documentation for this file format can be found in "The Data Catalog"
# Link: https://docs.kedro.org/en/stable/data/data_catalog.html
# events:
#   type: kedro_datasets.snowflake.SnowparkTableDataset
#   table_name: "EVENTS"
#   schema: "SCHEMAS"
#   database: "AMAZING_DB"
#   credentials: snowflake_client
# final_event_metrics:
#   type: kedro_datasets.snowflake.SnowparkTableDataset
#   table_name: "EVENT_METRICS"   # nom de la table de sortie
#   schema: "SCHEMAS"
#   database: "AMAZING_DB"
#   credentials: snowflake_client
#   if_exists: "replace"          # options : 'replace', 'append', 'fail'
events:
  type: kedro_datasets.snowflake.SnowparkTableDataset
  table_name: "EVENTS"
  schema: "SCHEMAS"
  database: "AMAZING_DB"
  credentials: snowflake_client

event_metrics:
  type: pandas.CSVDataSet
  filepath: data/01_raw/event_metrics.csv
  load_args:
    sep: ","  # ou "\t" si TSV


events_cleaned:
  type: MemoryDataset

events_filtered:
  type: MemoryDataset

user_event_counts:
  type: MemoryDataset

user_spent_stats:
  type: MemoryDataset

final_event_metrics:
  type: kedro_datasets.snowflake.SnowparkTableDataset
  table_name: "EVENT_METRICS"
  schema: "SCHEMAS"
  database: "AMAZING_DB"
  credentials: snowflake_client
  save_args:
    mode: "overwrite"


rfm_kmeans_results:
  type: MemoryDataset

rfm_prepared:
  type: MemoryDataset

rfm_df:
  type: pandas.ParquetDataSet
  filepath: data/06_models/rfm_df.parquet


test_events:
  type: kedro_datasets.snowflake.SnowparkTableDataset
  table_name: "TEST_EVENTS"
  schema: "SCHEMAS"
  database: "AMAZING_DB"
  credentials: snowflake_client

calssifiesd_clients:
  type: kedro_datasets.snowflake.SnowparkTableDataset
  table_name: "calssifiesd_clients"
  schema: "SCHEMAS"
  database: "AMAZING_DB"
  credentials: snowflake_client
  save_args:
    mode: "overwrite"
